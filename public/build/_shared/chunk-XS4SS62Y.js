import{O as I,a as D,b as n,l as V}from"/build/_shared/chunk-4UTFCSAD.js";import{a as P,q as S}from"/build/_shared/chunk-TQQC2NO3.js";import{e as N}from"/build/_shared/chunk-2TWE7TSA.js";var y=N(P(),1);var e=N(S(),1);function M(){let[p,m]=(0,y.useState)([]),[f,u]=(0,y.useState)(!1),[v,k]=(0,y.useState)(!1),x=(a,i)=>i.required&&(!a||typeof a=="string"&&a.trim()==="")?{fieldId:i.id,message:`${i.label} is required`}:a?i.type==="email"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?{fieldId:i.id,message:"Please enter a valid email address"}:i.type==="phone"&&!/^\d{10}$/.test(a.replace(/\D/g,""))?{fieldId:i.id,message:"Please enter a valid 10-digit phone number"}:null:null,w=(a,i)=>{let l=[];return i.forEach(d=>{let c=x(a[d.id],d);c&&l.push(c)}),l};return{errors:p,isSubmitting:f,isSubmitted:v,handleSubmit:async(a,i,l,d)=>{u(!0),m([]);let c=w(a,i);if(c.length>0){m(c),d(c),u(!1);return}try{await l(a),k(!0)}catch{m([{fieldId:"form",message:"An error occurred while submitting the form"}])}finally{u(!1)}},validateField:x}}function R({fields:p,settings:m,formName:f,formDescription:u,onSubmit:v,onValidationError:k,onFieldChange:x,isSubmitting:w}){let{errors:h,isSubmitting:a,isSubmitted:i,handleSubmit:l}=M(),[d,c]=(0,y.useState)({}),g=w??a,E=(t,r)=>{c(o=>({...o,[t]:r})),x?.(t,r)},L=t=>{let r=h.find(s=>t.id===s.fieldId),o={id:t.id,name:t.id,value:d[t.id]||"",onChange:s=>E(t.id,s.target.value),className:`w-full px-4 py-2.5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border rounded-lg shadow-sm 
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 
        placeholder:text-gray-400 dark:placeholder:text-gray-500
        disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-400
        disabled:cursor-not-allowed transition-colors duration-200 ${r?"border-red-300 dark:border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,placeholder:t.placeholder,disabled:g,required:t.required};switch(t.type){case"text":return(0,e.jsxs)("div",{children:[(0,e.jsx)("input",{type:"text",...o}),r&&(0,e.jsx)(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1.5 text-sm text-red-600 dark:text-red-400 font-medium",children:r.message})]});case"email":return(0,e.jsxs)("div",{children:[(0,e.jsx)("input",{type:"email",...o,placeholder:t.placeholder||"Enter email address..."}),r&&(0,e.jsx)(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1.5 text-sm text-red-600 dark:text-red-400 font-medium",children:r.message})]});case"phone":return(0,e.jsxs)("div",{children:[(0,e.jsx)("input",{type:"tel",...o,placeholder:t.placeholder||"Enter 10-digit phone number...",maxLength:10,pattern:"[0-9]{10}",inputMode:"numeric"}),r&&(0,e.jsx)(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1.5 text-sm text-red-600 dark:text-red-400 font-medium",children:r.message})]});case"textarea":return(0,e.jsxs)("div",{children:[(0,e.jsx)("textarea",{...o,rows:3,className:`${o.className} resize-none`}),r&&(0,e.jsx)(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1.5 text-sm text-red-600 dark:text-red-400 font-medium",children:r.message})]});case"dropdown":return(0,e.jsxs)("div",{children:[(0,e.jsxs)("select",{...o,className:`${o.className} appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%236B7280%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M10%203a1%201%200%2001.707.293l3%203a1%201%200%2001-1.414%201.414L10%205.414%207.707%207.707a1%201%200%2001-1.414-1.414l3-3A1%201%200%200110%203zm-3.707%209.293a1%201%200%20011.414%200L10%2014.586l2.293-2.293a1%201%200%20011.414%201.414l-3%203a1%201%200%2001-1.414%200l-3-3a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E')] dark:bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%239CA3AF%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M10%203a1%201%200%2001.707.293l3%203a1%201%200%2001-1.414%201.414L10%205.414%207.707%207.707a1%201%200%2001-1.414-1.414l3-3A1%201%200%200110%203zm-3.707%209.293a1%201%200%20011.414%200L10%2014.586l2.293-2.293a1%201%200%20011.414%201.414l-3%203a1%201%200%2001-1.414%200l-3-3a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E')] bg-no-repeat bg-[length:1.5em_1.5em] bg-[right_0.75rem_center] pr-10`,children:[(0,e.jsx)("option",{value:"",disabled:!0,className:"text-gray-500 dark:text-gray-400",children:"Select your option"}),t.options&&t.options.length>0?t.options.map((s,b)=>(0,e.jsx)("option",{value:s.toLowerCase().replace(/\s+/g,"-"),className:"text-gray-900 dark:text-white",children:s},b)):(0,e.jsx)("option",{value:"",disabled:!0,className:"text-gray-500 dark:text-gray-400",children:"No options added"})]}),r&&(0,e.jsx)(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1.5 text-sm text-red-600 dark:text-red-400 font-medium",children:r.message})]});case"checkbox":return(0,e.jsxs)("div",{className:"space-y-3",children:[t.checkboxOptions&&t.checkboxOptions.length>0?t.checkboxOptions.map((s,b)=>(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"checkbox",id:`${t.id}-${b}`,name:t.id,value:s.toLowerCase().replace(/\s+/g,"-"),checked:d[t.id]?.includes(s.toLowerCase().replace(/\s+/g,"-"))||!1,onChange:F=>{let C=d[t.id]||[],A=F.target.checked?[...C,F.target.value]:C.filter($=>$!==F.target.value);E(t.id,A)},className:`w-5 h-5 rounded border-2 bg-white dark:bg-gray-700
                      checked:bg-blue-600 checked:border-blue-600 
                      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 
                      disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100 dark:disabled:bg-gray-800
                      transition-colors duration-200
                      appearance-none relative
                      before:absolute before:inset-0 before:bg-white dark:before:bg-gray-700 before:rounded
                      checked:before:bg-blue-600
                      after:absolute after:inset-0 after:bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%23fff%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M16.707%205.293a1%201%200%20010%201.414l-8%208a1%201%200%2001-1.414%200l-4-4a1%201%200%20011.414-1.414L8%2012.586l7.293-7.293a1%201%200%20011.414%200z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E')] after:bg-no-repeat after:bg-center after:opacity-0 checked:after:opacity-100
                      ${r?"border-red-300 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,disabled:g}),(0,e.jsx)("label",{htmlFor:`${t.id}-${b}`,className:"ml-3 text-gray-700 dark:text-gray-300 font-medium select-none",children:s})]},b)):(0,e.jsx)("div",{className:"text-gray-500 dark:text-gray-400 italic",children:"No checkbox options added"}),r&&(0,e.jsx)(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1.5 text-sm text-red-600 dark:text-red-400 font-medium",children:r.message})]});case"date":return(0,e.jsxs)("div",{children:[(0,e.jsx)("input",{type:"date",...o,className:`${o.className} [&::-webkit-calendar-picker-indicator]:opacity-60 [&::-webkit-calendar-picker-indicator]:hover:opacity-100`}),r&&(0,e.jsx)(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1.5 text-sm text-red-600 dark:text-red-400 font-medium",children:r.message})]});default:return null}};return(0,e.jsxs)("div",{className:"space-y-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6 md:p-8",children:[(0,e.jsxs)("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-6 mb-6",children:[(0,e.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2 text-center",children:f}),(0,e.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-center max-w-2xl mx-auto",children:u})]}),(0,e.jsx)(D,{children:i?(0,e.jsxs)(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-3",children:[(0,e.jsx)(V,{className:"w-6 h-6 text-green-500 dark:text-green-400 flex-shrink-0"}),(0,e.jsx)("p",{className:"text-green-700 dark:text-green-300 font-medium",children:m.successMessage||"Form submitted successfully!"})]}):(0,e.jsxs)("form",{onSubmit:t=>{t.preventDefault(),l(d,p,v,k)},className:"space-y-6 max-w-2xl mx-auto",children:[p.map(t=>(0,e.jsxs)("div",{className:"bg-gray-50/50 dark:bg-gray-900/50 rounded-lg p-4 border border-gray-100 dark:border-gray-700",children:[(0,e.jsxs)("label",{htmlFor:t.id,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[t.label,t.required&&(0,e.jsx)("span",{className:"text-red-500 dark:text-red-400 ml-1",children:"*"})]}),L(t)]},t.id)),h.some(t=>t.fieldId==="form")&&(0,e.jsxs)(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-3",children:[(0,e.jsx)(I,{className:"w-6 h-6 text-red-500 dark:text-red-400 flex-shrink-0"}),(0,e.jsx)("p",{className:"text-red-700 dark:text-red-300 font-medium",children:h.find(t=>t.fieldId==="form")?.message})]}),p.length>0&&(0,e.jsx)("div",{className:"flex justify-center pt-4 border-t border-gray-100 dark:border-gray-700",children:(0,e.jsx)("button",{type:"submit",disabled:g,className:`w-[200px] px-6 py-3 text-white rounded-lg transition-all duration-200 
                    shadow-sm hover:shadow-md ${g?"bg-blue-400 dark:bg-blue-500 cursor-not-allowed":"bg-blue-600 dark:bg-blue-500 hover:bg-blue-700 dark:hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"}`,children:g?(0,e.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,e.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,e.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,e.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,e.jsx)("span",{children:"Submitting..."})]}):m.submitButtonText})})]})})]})}export{R as a};
